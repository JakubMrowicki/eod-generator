(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),r=c(8),s=c.n(r),l=(c(13),c(14),c(3)),i=c(5),o=c(1);function b(e,t){switch(t.type){case"UPDATE_VO":var c=t.payload,a=c.booth,n=c.cardmachine;return a&&0!==n?Object(o.a)(Object(o.a)({},e),{},{booths:Object(o.a)(Object(o.a)({},e.booths),{},Object(i.a)({},a,t.payload))}):e;case"UPDATE_CENTRE":return Object(o.a)(Object(o.a)({},e),{},{centre:t.payload});default:return e}}var j=c(0),d={centre:{location:"",vo:"",vocount:1,date:"09/11/2021",bags:{green:0,blue:0},dxlabel:"",dxseal:"",lip:0,apdirect:0,resubs:0,details:""},booths:{}},u=Object(a.createContext)(d),O=function(e){var t=e.children,c=Object(a.useReducer)(b,d),n=Object(l.a)(c,2),r=n[0],s=n[1];return Object(j.jsx)(u.Provider,{value:{centre:r.centre,booths:r.booths,updateCentre:function(e){s({type:"UPDATE_CENTRE",payload:e})},updateVo:function(e){s({type:"UPDATE_VO",payload:e})}},children:t})};function h(){var e=new Date,t=e.getDate(),c=e.getMonth()+1,a=e.getFullYear();return"".concat(a,"-").concat(c,"-").concat(t)}function m(){var e=Object(a.useContext)(u),t=e.updateCentre,c=e.booths,n=Object(a.useState)({location:"Santry",vo:"",vocount:1,date:h(),bags:{green:0,blue:1},dxlabel:"",dxseal:"",lip:0,apdirect:0,resubs:0,details:""}),r=Object(l.a)(n,2),s=r[0],i=r[1];Object(a.useEffect)((function(){t(s)}),[s]);var b=Object(a.useState)(!1),d=Object(l.a)(b,2),O=d[0],m=d[1],p=Object(a.useState)({credit:0,debit:0,payzone:0,mobile:0,cardmachine:0,diff:0}),x=Object(l.a)(p,2),f=x[0],v=x[1];return Object(a.useEffect)((function(){var e={credit:0,debit:0,payzone:0,mobile:0,cardmachine:0,diff:0};for(var t in c)e.credit+=c[t].credit,e.debit+=c[t].debit,e.payzone+=c[t].payzone,e.mobile+=c[t].mobile,e.cardmachine+=c[t].cardmachine,e.diff+=c[t].diff;v(e)}),[c]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"card shadow mb-3",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{children:"Centre Info"})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("p",{children:"Set centre name, date and booth count."}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-5",children:[Object(j.jsx)("label",{children:"Centre Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"eg. Santry",value:s.location,onChange:function(e){var t=e.target.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},{location:t})}))}})]}),Object(j.jsxs)("div",{className:"col-4",children:[Object(j.jsx)("label",{title:"Your name",children:"VO Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"eg. Jakub",value:s.vo,onChange:function(e){var t=e.target.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},{vo:t})}))}})]}),Object(j.jsxs)("div",{className:"col-3",children:[Object(j.jsx)("label",{children:"VO Count"}),Object(j.jsx)("input",{type:"number",className:"form-control",min:"1",value:s.vocount,disabled:O,onChange:function(e){var t=e.target.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},{vocount:+t})})),t>1&&m(!0)}})]})]})}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{children:"Report Date"}),Object(j.jsx)("input",{type:"date",className:"form-control",value:s.date,onChange:function(e){var t=e.target.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},{date:t})}))}})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("label",{children:"Green Bags"}),Object(j.jsx)("input",{type:"number",className:"form-control",min:"0",value:s.bags.green,onChange:function(e){var t=e.target.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},{bags:Object(o.a)(Object(o.a)({},e.bags),{},{green:t})})}))}})]}),Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("label",{children:"Blue Bags"}),Object(j.jsx)("input",{type:"number",className:"form-control",min:"0",value:s.bags.blue,onChange:function(e){var t=e.target.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},{bags:Object(o.a)(Object(o.a)({},e.bags),{},{blue:t})})}))}})]})]})}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{children:"DX Label Number"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"eg. 13100101584507",value:s.dxlabel,onChange:function(e){var t=e.target.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},{dxlabel:t})}))}})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{children:"DX Seal Number"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"eg. 7912350",value:s.dxseal,onChange:function(e){var t=e.target.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},{dxseal:t})}))}})]}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-4",children:[Object(j.jsx)("label",{title:"Lost in post total",children:"LIP Total"}),Object(j.jsx)("input",{type:"number",className:"form-control",id:"no",value:s.lip,onChange:function(e){var t=e.target.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},{lip:t})}))}})]}),Object(j.jsxs)("div",{className:"col-4",children:[Object(j.jsx)("label",{children:"AP Direct Total"}),Object(j.jsx)("input",{type:"number",className:"form-control",value:s.apdirect,onChange:function(e){var t=e.target.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},{apdirect:t})}))}})]}),Object(j.jsxs)("div",{className:"col-4",children:[Object(j.jsx)("label",{title:"Resubmissions Total",children:"Resub Total"}),Object(j.jsx)("input",{type:"number",className:"form-control",value:s.resubs,onChange:function(e){var t=e.target.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},{resubs:t})}))}})]})]})}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{children:"Payment Discrepancy Details"}),Object(j.jsx)("textarea",{cols:"30",rows:"10",className:"form-control",placeholder:"eg. -\u20ac20 EXP2 on card machine",value:s.details,onChange:function(e){var t=e.target.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},{details:t})}))}})]})]})]}),Object(j.jsxs)("div",{className:"card shadow mb-3 sticky-top",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{children:"Running Totals"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-6 border-end",children:[Object(j.jsxs)("p",{children:["Credit Card: \u20ac",f.credit]}),Object(j.jsxs)("p",{children:["Debit Card: \u20ac",f.debit]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["Total(Minus EXP): \u20ac",f.credit+f.debit-f.diff]}),Object(j.jsxs)("p",{children:["Card Machine: \u20ac",f.cardmachine]})]}),Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsxs)("p",{children:["Payzone: \u20ac",f.payzone]}),Object(j.jsxs)("p",{children:["Mobile Payments: \u20ac",f.mobile]}),Object(j.jsxs)("p",{children:["EXP Difference: \u20ac",f.diff]})]})]})})]})]})}var p=c(4),x=c.n(p),f=c(7);function v(e){var t=Object(a.useState)({name:"",booth:"",credit:0,debit:0,payzone:0,mobile:0,cardmachine:0,exp1:0,exp2:0,diff:0}),c=Object(l.a)(t,2),n=c[0],r=c[1];Object(a.useEffect)((function(){e.handleUpdate(n)}),[n]);var s="";if(n.credit+n.debit!==n.cardmachine&&n.cardmachine){var i=Math.abs(n.credit+n.debit-n.cardmachine);s=i===n.diff?Object(j.jsx)("p",{className:"text-success",children:"Card payments match."}):Object(j.jsxs)("p",{className:"text-danger",children:["Card payment mismatch(Account for \u20ac",i,")."]})}else n.credit+n.debit===n.cardmachine&&n.cardmachine&&(s=Object(j.jsx)("p",{className:"text-success",children:"Card payments match."}));return Object(j.jsxs)("div",{className:"card shadow mb-3",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsxs)("h5",{children:["Report for VO ",e.number]})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-6",children:Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("span",{className:"input-group-text",children:"VO"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"eg. Jakub",value:n.name,onChange:function(e){var t=e.target.value;r((function(e){return Object(o.a)(Object(o.a)({},e),{},{name:t})}))}})]})}),Object(j.jsx)("div",{className:"col-6",children:Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("span",{className:"input-group-text",children:"Booth"}),Object(j.jsx)("input",{type:"number",min:"1",max:"10",placeholder:"eg. 1",className:"form-control",value:n.booth,onChange:function(e){var t=e.target.value;r((function(e){return""===t?Object(o.a)(Object(o.a)({},e),{},{booth:t}):Object(o.a)(Object(o.a)({},e),{},{booth:+t})}))}})]})})]})}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-6 border-end",children:[Object(j.jsx)("p",{children:"Payments"}),Object(j.jsx)("label",{children:"Credit Card"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("span",{className:"input-group-text",children:"\u20ac"}),Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"Credit Card total from FO",value:n.credit,onChange:function(e){var t=e.target.value;r((function(e){return""===t?Object(o.a)(Object(o.a)({},e),{},{credit:t}):Object(o.a)(Object(o.a)({},e),{},{credit:+t})}))},onBlur:function(e){""===e.target.value&&r((function(e){return Object(o.a)(Object(o.a)({},e),{},{credit:0})}))}})]}),Object(j.jsx)("label",{children:"Debit Card"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("span",{className:"input-group-text",children:"\u20ac"}),Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"Debit Card total from FO",value:n.debit,onChange:function(e){var t=e.target.value;r((function(e){return""===t?Object(o.a)(Object(o.a)({},e),{},{debit:t}):Object(o.a)(Object(o.a)({},e),{},{debit:+t})}))},onBlur:function(e){""===e.target.value&&r((function(e){return Object(o.a)(Object(o.a)({},e),{},{debit:0})}))}})]}),Object(j.jsx)("label",{children:"Payzone"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("span",{className:"input-group-text",children:"\u20ac"}),Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"Payzone total from FO",value:n.payzone,onChange:function(e){var t=e.target.value;r((function(e){return""===t?Object(o.a)(Object(o.a)({},e),{},{payzone:t}):Object(o.a)(Object(o.a)({},e),{},{payzone:+t})}))},onBlur:function(e){""===e.target.value&&r((function(e){return Object(o.a)(Object(o.a)({},e),{},{payzone:0})}))}})]}),Object(j.jsx)("label",{children:"Mobile Payment"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("span",{className:"input-group-text",children:"\u20ac"}),Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"Mobile Payment total from FO",value:n.mobile,onChange:function(e){var t=e.target.value;r((function(e){return""===t?Object(o.a)(Object(o.a)({},e),{},{mobile:t}):Object(o.a)(Object(o.a)({},e),{},{mobile:+t})}))},onBlur:function(e){""===e.target.value&&r((function(e){return Object(o.a)(Object(o.a)({},e),{},{mobile:0})}))}})]}),Object(j.jsx)("label",{children:"Card Machine"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("span",{className:"input-group-text",children:"\u20ac"}),Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"Card Machine total from batch",value:n.cardmachine,onChange:function(e){var t=e.target.value;r((function(e){return""===t?Object(o.a)(Object(o.a)({},e),{},{cardmachine:t}):Object(o.a)(Object(o.a)({},e),{},{cardmachine:+t})}))},onBlur:function(e){""===e.target.value&&r((function(e){return Object(o.a)(Object(o.a)({},e),{},{cardmachine:0})}))}})]})]}),Object(j.jsxs)("div",{className:"col-6",children:[Object(j.jsx)("p",{children:"Exceptions"}),Object(j.jsx)("label",{children:"EXP 1"}),Object(j.jsx)("input",{type:"number",className:"form-control",value:n.exp1,onChange:function(e){var t=e.target.value;r((function(e){return""===t?Object(o.a)(Object(o.a)({},e),{},{exp1:t}):Object(o.a)(Object(o.a)({},e),{},{exp1:+t})}))},onBlur:function(e){""===e.target.value&&r((function(e){return Object(o.a)(Object(o.a)({},e),{},{exp1:0})}))}}),Object(j.jsx)("label",{children:"EXP 2"}),Object(j.jsx)("input",{type:"number",className:"form-control",value:n.exp2,onChange:function(e){var t=e.target.value;r((function(e){return""===t?Object(o.a)(Object(o.a)({},e),{},{exp2:t}):Object(o.a)(Object(o.a)({},e),{},{exp2:+t})}))},onBlur:function(e){""===e.target.value&&r((function(e){return Object(o.a)(Object(o.a)({},e),{},{exp2:0})}))}}),Object(j.jsx)("label",{children:"EXP Difference"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("span",{className:"input-group-text",children:"\u20ac"}),Object(j.jsx)("input",{type:"number",className:"form-control",value:n.diff,onChange:function(e){var t=e.target.value;r((function(e){return""===t?Object(o.a)(Object(o.a)({},e),{},{diff:t}):Object(o.a)(Object(o.a)({},e),{},{diff:+t})}))},onBlur:function(e){""===e.target.value&&r((function(e){return Object(o.a)(Object(o.a)({},e),{},{diff:0})}))}})]})]})]})}),s]})]})}function g(){var e=Object(a.useContext)(u),t=e.centre,c=e.booths,n=e.updateVo,r=Object(a.useState)([]),s=Object(l.a)(r,2),i=s[0],o=s[1];function b(){return(b=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({centre:t,booths:c})}).then((function(e){return e.json()})).then((function(e){console.log(e),window.open("/download/".concat(e.file),"_blank")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/submit2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({centre:t,booths:c})}).then((function(e){return e.json()})).then((function(e){console.log(e),window.open("/download/".concat(e.file),"_blank")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){n(e)}return Object(a.useEffect)((function(){for(var e=[],c=0;c<t.vocount;c++)e.push(Object(j.jsx)(v,{number:c+1,handleUpdate:O},c));o(e)}),[t]),Object(j.jsxs)("div",{children:[i,Object(j.jsxs)("div",{className:"button-group float-end",children:[Object(j.jsxs)("button",{className:"btn btn-success shadow-lg mb-3",onClick:function(){return b.apply(this,arguments)},children:[Object(j.jsx)("i",{className:"fas fa-cloud-download-alt me-1",children:" "}),"Get Report"]}),Object(j.jsx)("button",{className:"btn btn-primary shadow-lg ms-2 mb-3",onClick:function(){return d.apply(this,arguments)},children:"Get EOD Sheet"})]})]})}var N=function(){return Object(j.jsx)(O,{children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:"EOD Generator"}),Object(j.jsx)("small",{children:"End of day report generator"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12 col-md-4",children:Object(j.jsx)(m,{})}),Object(j.jsx)("div",{className:"col-12 col-md-8",children:Object(j.jsx)(g,{})})]})]})})};s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.37927af5.chunk.js.map